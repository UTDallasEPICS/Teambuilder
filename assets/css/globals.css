@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light !important;
}

/* color palette */
:root {
  --color-frame-orange: #c97500; /* page frame / accent */
  --color-beige: #fcf5dc; /* main table background */
  --color-beige-light: #fff6e2; /* header / inputs */
  --color-pill-new: #34d399; /* NEW */
  --color-pill-returning: #fb923c; /* RETURNING */
  --color-pill-complete: #60a5fa; /* COMPLETE */
  --color-pill-withdrawn: #9ca3af; /* WITHDRAWN */
  --color-pill-hold: #ef4444; /* HOLD */
  --color-text-dark: #0f172a; /* primary readable text */
  --color-card-bg: #ffffff; /* card background */
  --color-accent-green: #10b981; /* success / accents */
  --color-accent-utd-green: #154734; /* UTD green accent */
  --color-utd-orange: #e87500; /* UTD orange accent */
  --color-nav-bg: #e6e6e6; /* neutral grey for left navigation */
  --color-nav-text: #5b5f63; /* neutral grey for nav text */
}

* {
  font-family: 'Jura', Arial, sans-serif;
  user-select: none;
  color-scheme: light !important; 
}


body {
  color-scheme: light !important;
  background: #ffffff !important;
  background-color: #ffffff !important;
  height: 100vh;
}

@media (prefers-color-scheme: dark) {
  :root, html, body, * {
    color-scheme: light !important;
  }
  
  /*force light backgrounds on tables in dark mode */
  .p-datatable,
  .p-datatable-table,
  .p-datatable-thead,
  .p-datatable-tbody,
  .p-datatable tr,
  .p-datatable th,
  .p-datatable td,
  .p-datatable-wrapper {
    /* tables should use the card background (white) instead of beige */
    background: var(--color-card-bg) !important;
    background-color: var(--color-card-bg) !important;
    color: #374151 !important;
  }
  
  .p-datatable th {
    background: #f9fafb !important;
    color: #111827 !important;
    font-weight: 600;
  }
  
  .p-datatable td {
    color: #374151 !important;
  }
  
  .p-datatable tr:hover {
    background: #f3f4f6 !important;
  }
  
  /* force dark text in table cells and links */
  .p-datatable a,
  .p-datatable span,
  .p-datatable div {
    color: #374151 !important;
  }
  
  /* force light backgrounds on form inputs and dropdowns */
  input,
  textarea,
  select,
  .p-inputtext,
  .p-multiselect,
  .p-dropdown,
  .p-calendar,
  .p-inputnumber,
  .p-multiselect-panel,
  .p-dropdown-panel {
    background: white !important;
    background-color: white !important;
    color: #000 !important;
  }
  
  .p-multiselect-item,
  .p-dropdown-item {
    background: white !important;
    color: #000 !important;
  }
  
  .p-multiselect-item:hover,
  .p-dropdown-item:hover {
    background: #f3f4f6 !important;
  }
}

@layer base {
  body {
    @apply text-beige;
  }
}

@layer components {
  .centered-row {
    @apply flex flex-row justify-center items-center;
  }

  .centered-col {
    @apply flex flex-col justify-center items-center;
  }

  .shaded-card {
    @apply bg-shaded rounded-3xl;
  }

  .teal-card {
    @apply bg-teal rounded-3xl;
  }

  .orange-card {
    background: var(--color-utd-orange);
    @apply rounded-3xl;
  }

  .beige-card {
    @apply rounded-2xl p-4 cursor-pointer bg-beige text-teal;
  }

  .blue-card {
    @apply rounded-lg bg-white shadow-lg text-black;
  }

  .hover-effect {
    @apply hover:-translate-y-1 hover:shadow-lg transition-transform duration-200;
  }

  .zoom-effect {
    @apply hover:scale-105 hover:shadow-lg transition-transform duration-200 bg-beige;
  }

  .pill {
    @apply flex flex-row justify-center items-center h-fit px-3 py-1 rounded-full text-xs text-beige;
    min-width: 5.5rem;
    white-space: nowrap;
  }

  .embossed {
    text-shadow: 1px 1px 1px #0000008b;
  }

/* Remove embossed/text-shadow and any extra box-shadow for the page headings
   (e.g. 'Partners', 'Projects') so they render cleanly. Use !important to
   override earlier utility classes while keeping the rest of the theme intact. */
.project-title,
.partners-button,
.projects-button,
.project-title.embossed,
.centered-row .project-title,
.centered-row .partners-button {
  text-shadow: none !important;
  box-shadow: none !important;
}

/* Tailwind's `drop-shadow-*` utilities use `filter: drop-shadow(...)`.
   Override any drop-shadow or filter-based effect for the `.project-title` so
   the small rounded inner rectangle / embossed look is removed. */
.project-title,
.project-title.embossed,
.project-title.drop-shadow-md,
.centered-row .project-title {
  filter: none !important;
  -webkit-filter: none !important;
  text-shadow: none !important;
  box-shadow: none !important;
  background-image: none !important;
}

/* Also make sure any descendant pseudo-elements don't add inner shadows */
.project-title::before,
.project-title::after {
  box-shadow: none !important;
  filter: none !important;
  content: none !important;
}

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .bor {
    @apply border-red border-2;
  }

  .project-title {
    @apply text-3xl font-semibold;
    background: var(--color-utd-orange);
    color: #ffffff;
    padding: 0.375rem 0.75rem;
    border-radius: 0.5rem;
    display: inline-block;
    margin-bottom: 0.5rem;
  }
}

/*
.content-area {
  margin-left: 0;
}

@media (min-width: 1056px) {
  .content-area {
    margin-left: 16rem; 
    border-left: 1px solid rgba(0,0,0,0.08);
  }
}

@media (max-width: 1055px) {
  .fixed.top-0.left-0.h-full.w-64.bg-teal.p-4.flex.flex-col.items-start {
    display: none !important;
  }
}

.p-datatable-wrapper {
  overflow-x: auto;
}*/

@media (min-width: 1056px) {
  .p-datatable-scrollable .p-datatable-table {
    min-width: 50rem !important;
  }
}

@media (max-width: 1055px) {
  .p-datatable-scrollable .p-datatable-table {
    min-width: 20rem !important;
  }
  
  .project-title {
    font-size: 1.25rem;
  }
}

.p-datatable td,
.p-datatable th {
  white-space: normal;
  word-break: break-word;
}

/* force light mode for all PrimeVue DataTable components */
.p-datatable,
.p-datatable-table,
.p-datatable-thead,
.p-datatable-tbody,
.p-datatable tr,
.p-datatable th,
.p-datatable td,
.p-datatable-wrapper {
  background: var(--color-card-bg) !important;
  background-color: var(--color-card-bg) !important;
  color: #374151 !important;
}

.p-datatable th {
  background: #f9fafb !important;
  color: #111827 !important;
  font-weight: 600;
}

.p-datatable td {
  color: #374151 !important;
}

.p-datatable tr:hover {
  background: #f3f4f6 !important;
}

/* force dark text in table cells and links */
.p-datatable a,
.p-datatable span,
.p-datatable div {
  color: #374151 !important;
}

/* force light backgrounds on all form inputs and dropdowns */
input,
textarea,
select,
.p-inputtext,
.p-multiselect,
.p-dropdown,
.p-calendar,
.p-inputnumber,
.p-multiselect-panel,
.p-dropdown-panel {
  background: white !important;
  background-color: white !important;
  color: #000 !important;
}

.p-multiselect-item,
.p-dropdown-item {
  background: white !important;
  color: #000 !important;
}

.p-multiselect-item:hover,
.p-dropdown-item:hover {
  background: #f3f4f6 !important;
}

.pill {
  /* Ensure pill text is centered both horizontally and vertically.
     This overrides the duplicate inline-block rule that caused misalignment. */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  font-size: 0.875rem;
  background: rgba(0,0,0,0.06);
  min-width: 5.5rem; /* match component-layer min-width */
}

/* Map beige-card to the centralized palette (table backgrounds and text) */
.beige-card {
  /* legacy class name kept, but map to white card background now */
  background: var(--color-card-bg) !important;
  color: var(--color-text-dark) !important;
}

/* Ensure PrimeVue DataTable inside a .beige-card uses the beige tones */
:deep(.beige-card .p-datatable),
:deep(.beige-card .p-datatable-wrapper),
:deep(.beige-card .p-datatable-table),
:deep(.beige-card .p-datatable-thead),
:deep(.beige-card .p-datatable-tbody),
:deep(.beige-card .p-datatable td),
:deep(.beige-card .p-datatable th) {
  /* ensure DataTables inside "beige-card" are rendered as white cards */
  background: var(--color-card-bg) !important;
  color: var(--color-text-dark) !important;
}

:deep(.beige-card .p-datatable th) {
  /* table headers use a subtle neutral tone to separate from white body */
  background: #f9fafb !important;
  color: var(--color-text-dark) !important;
}

/* Pill color mappings (use centralized palette) */
.pill.bg-green { background: var(--color-pill-new) !important; color: #ffffff !important; }
.pill.bg-orange { background: var(--color-pill-returning) !important; color: #ffffff !important; }
.pill.bg-lightblue { background: var(--color-pill-complete) !important; color: #ffffff !important; }
.pill.bg-gray { background: var(--color-pill-withdrawn) !important; color: #ffffff !important; }
.pill.bg-red { background: var(--color-pill-hold) !important; color: #ffffff !important; }

/* Orange page frame + inner orange area used on Projects/Students/Partners pages */
.centered-row.shaded-card {
  background: var(--color-utd-orange) !important;
  padding: 2rem !important;
  border-radius: 0.5rem;
}

.centered-row.shaded-card > .centered-col {
  background: var(--color-utd-orange) !important;
  border-radius: 0.75rem;
  padding: 1.25rem !important;
  box-shadow: 0 8px 20px rgba(16,24,40,0.06);
  width: 100%;
}

/* Stronger scoped overrides so search/filter inputs inside beige DataTables use the beige background */
:deep(.beige-card .p-datatable input),
:deep(.beige-card .p-datatable textarea),
:deep(.beige-card .p-datatable select),
:deep(.beige-card .p-datatable .p-inputtext),
:deep(.beige-card .p-datatable .p-inputtext-input),
:deep(.beige-card .p-datatable .p-column-filter .p-inputtext),
:deep(.beige-card .p-datatable .p-column-filter input),
:deep(.beige-card .p-datatable .p-column-filter .p-dropdown-label),
:deep(.beige-card .p-datatable .p-column-filter .p-multiselect-label) {
  /* inputs inside card/table should be white (card bg) */
  background: var(--color-card-bg) !important;
  background-color: var(--color-card-bg) !important;
  color: var(--color-text-dark) !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 0.75rem !important;
  border: 1px solid rgba(0,0,0,0.06) !important;
  box-shadow: none !important;
  outline: none !important;
}

:deep(.beige-card .p-datatable input::placeholder),
:deep(.beige-card .p-datatable .p-inputtext::placeholder) {
  color: rgba(55,65,81,0.45) !important;
}

/* Override inputs/dropdowns inside beige-card DataTables to use beige background */
.beige-card .p-datatable input,
.beige-card .p-datatable textarea,
.beige-card .p-datatable select,
.beige-card .p-datatable .p-inputtext,
.beige-card .p-datatable .p-multiselect,
.beige-card .p-datatable .p-dropdown,
.beige-card .p-datatable .p-multiselect .p-multiselect-label,
.beige-card .p-datatable .p-dropdown .p-dropdown-label {
  background: var(--color-card-bg) !important;
  background-color: var(--color-card-bg) !important;
  color: var(--color-text-dark) !important;
  border: 1px solid rgba(0,0,0,0.08) !important;
  border-radius: 0.375rem !important;
  box-shadow: none !important;
}

.beige-card .p-datatable input::placeholder,
.beige-card .p-datatable .p-inputtext::placeholder {
  color: rgba(55,65,81,0.5) !important;
}

/* Fix: rounded focus ring for pill/buttons (e.g. 'Partners' label)
   Reason: the browser default outline is drawn outside the element's border-radius
   and appears square. Replace default outline with a rounded box-shadow on
   :focus-visible to preserve keyboard accessibility while removing the square look. */
.pill,
.project-title,
.beige-card button,
.centered-row .beige-card a,
.partners-button {
  border-radius: 0.75rem; /* match design */
}

.pill:focus-visible,
.project-title:focus-visible,
.beige-card button:focus-visible,
.partners-button:focus-visible {
  outline: none; /* remove square outline */
  box-shadow: 0 8px 20px rgba(0,0,0,0.12), 0 0 0 4px rgba(255,255,255,0.06) inset;
  border-radius: 0.75rem; /* keep focus shadow rounded */
}

/* If you prefer a colored focus ring for accessibility, replace the box-shadow
   above with something like:
     box-shadow: 0 0 0 3px rgba(245,158,11,0.24); */

/* Hide the native focus outline/ ring when the element is focused via mouse
   (or programmatically) but keep a clear visible ring for keyboard users.
   This prevents the square outline around rounded buttons like "Partners"
   while preserving accessibility via :focus-visible. */
.pill:focus,
.project-title:focus,
.beige-card button:focus,
.beige-card a:focus,
.partners-button:focus {
  outline: none; /* remove default browser outline */
  box-shadow: none; /* remove any browser-supplied focus ring */
}

/* If an element should show a custom rounded focus ring for keyboard users, use :focus-visible */
.pill:focus-visible,
.project-title:focus-visible,
.beige-card button:focus-visible,
.beige-card a:focus-visible,
.partners-button:focus-visible {
  outline: none;
  box-shadow: 0 8px 20px rgba(0,0,0,0.12), 0 0 0 4px rgba(255,255,255,0.06) inset;
  border-radius: 0.75rem;
}

/* Toast readability + app color scheme */
.p-toast .p-toast-message {
  border-radius: 0.75rem !important;
  border: 1px solid rgba(0,0,0,0.08) !important;
  box-shadow: 0 8px 18px rgba(0,0,0,0.15) !important;
}

.p-toast .p-toast-message .p-toast-message-content,
.p-toast .p-toast-message .p-toast-summary,
.p-toast .p-toast-message .p-toast-detail,
.p-toast .p-toast-message .p-toast-close-button {
  color: var(--color-text-dark) !important;
}

/* Keep success/info in a readable green family to match the site */
.p-toast .p-toast-message.p-toast-message-success,
.p-toast .p-toast-message.p-toast-message-info {
  background: #ecfdf5 !important;
  border-left: 6px solid var(--color-accent-green) !important;
}

.p-toast .p-toast-message.p-toast-message-success .p-toast-summary,
.p-toast .p-toast-message.p-toast-message-info .p-toast-summary {
  color: var(--color-accent-utd-green) !important;
  font-weight: 700 !important;
}

.p-toast .p-toast-message.p-toast-message-error {
  background: #fef2f2 !important;
  border-left: 6px solid #ef4444 !important;
}
